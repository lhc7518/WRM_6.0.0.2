"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[6707],{6707:(t,e,i)=>{i.r(e),i.d(e,{editor:()=>c});var o=i(1570),n=i(8548),s=i(866),a=i(2847),r=i(6323),l=i(4171),d=i(3885),c=function(t,e,i){d.q.call(this,t,e,i)};o.q.extend(c.prototype,d.q.prototype),c.prototype.defaultOptions={pluginType:"uiplugin.editor",pluginName:"editor",userEvents:["onload","onchange"],menubar:"simple",editorType:"3.0",useConfig:!0,absolutePath:!1,imageUploadURL:"",imageLoadURL:"",subDir:"",language:"en",transParentDisabled:!1,resizable:!1,version:"",editorHeight:"",editorWidth:"",useCKFinder:"",placeholder:"",useLocale:!1,placeholderLocaleRef:"",maxCharCount:0,msaName:""},c.prototype.initialize=function(t){try{this._majorVersion=this._getMajorVersion(this.options.version),"5"==this._majorVersion?(this._defaultImageUploadURL="imageupload.wq",this._defaultImageLoadURL="loadImg.wq",this.options.imageUploadURL=n.I.getServletURL(this,this.options.msaName,this._defaultImageUploadURL,this.options.imageUploadURL),this.options.imageLoadURL=n.I.getServletURL(this,this.options.msaName,this._defaultImageLoadURL,this.options.imageLoadURL)):(this.options.imageUploadURL=this.options.imageUploadURL||WebSquare.baseServletURI+"imageupload.wq",this.options.imageLoadURL=this.options.imageLoadURL||o.q._resourceURI+"externalJS/editor/loadImg.wq"),this.loaded=!1,this.startText="",this.startHtml="",this.orgHTML="",this.options.version||(r.Z.isSpartan()?this.options.version="4.5.1":r.Z.isIEAllVersion(9)||r.Z.isIEAllVersion(11)||r.Z.isIEAllVersion(10)||n.I.browserCheck.ipad?this.options.version="4.3":this.options.version="")}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.initAsync=async function(){window.CKEDITOR||(void 0===window.CKEDITOR_BASEPATH&&(window.CKEDITOR_BASEPATH=o.q._resourceURI+this._getResourcePath()),await inquires(this._getResourcePath()+"ckeditor.js")),"5"==this._majorVersion?"en"!=this.options.language&&await inquires("externalJS/editor"+this.options.version+"/translations/"+this.options.language+".js"):r.Z.getBoolean(this.options.useCKFinder)&&!window.CKFinder&&await inquires("externalJS/ckfinder/ckfinder.js")},c.prototype.toHTML=function(){try{var t,e=[],i=""==this.options.tabIndex?"":"tabIndex='"+this.options.tabIndex+"'";return t=""==this.options.style?"":"style='"+this.options.style+"'",e.push("<div id='"+this.id+"' "+t+" class='w2editor "+this.options.className+"' "+i+">"),e.push("<div id='"+this.id+"_'>"),e.push("</div>"),"5"==this._majorVersion&&this.options.maxCharCount>0&&(e.push("<span id='"+this.id+"_bottom' class='w2editor_bottom' role='presentation'>"),e.push("<div class='w2editor_charcount'>"),e.push("<span id='"+this.id+"_charcount'>"),e.push("</span>"),e.push("</div>"),e.push("</span>")),e.push("</div>"),e.join("")}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.setAction=function(){try{if("5"==this._majorVersion){var t;switch(this.options.menubar){case"default":t=["sourceEditing","|","undo","redo","selectAll","removeFormat","|","bold","italic","underline","|","strikethrough","subscript","superscript","|","numberedList","bulletedList","|","outdent","indent","blockquote","|","alignment:left","alignment:center","alignment:right","alignment:justify","|","insertTable","|","horizontalLine","specialCharacters","pageBreak","fontColor","fontBackgroundColor","showBlocks","|","heading","fontFamily","fontSize"];break;case"simple":t=["fontFamily","fontSize","|","insertTable","imageUpload","|","bold","italic","underline","fontColor"];break;case"defaultImage":
t=["sourceEditing","|","undo","redo","selectAll","removeFormat","|","bold","italic","underline","|","strikethrough","subscript","superscript","|","numberedList","bulletedList","|","outdent","indent","blockquote","|","alignment:left","alignment:center","alignment:right","alignment:justify","|","insertTable","imageUpload","|","horizontalLine","specialCharacters","pageBreak","fontColor","fontBackgroundColor","showBlocks","|","heading","fontFamily","fontSize"]}this.options.useLocale&&this.options.placeholderLocaleRef&&(f=this.getLocaleValue(this.options.placeholderLocaleRef));var e=f||this.options.placeholder,i={toolbar:{items:t,shouldNotGroupWhenFull:!0},WordCount:{displayWords:!1,displayCharacters:!0},fontFamily:{options:["gulim","gungsuh","dotum","batang","Arial","Comic Sans MS","Courier New","Tahoma","Times New Roman","Verdana"]},fontSize:{options:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","48px","72px"]},language:this.options.language,placeholder:e};this.filebrowserUploadBaseUrl=this.options.imageUploadURL+"?callbackFunction="+this.id+".callback&version=5&imageLoadURL="+encodeURIComponent(this.options.imageLoadURL)+"&subDir="+this.options.subDir,i.simpleUpload={uploadUrl:this.filebrowserUploadBaseUrl};var n=this;ClassicEditor.create(document.getElementById(this.id+"_"),i).then((function(t){window.CKEDITOR||(window.CKEDITOR={}),window.CKEDITOR[n.id+"_"]=t,t.setData(" ");var e=n.uuid,i=WebSquare.idCache[e];t.editing.view.document.on("focus",(function(t){i.handleOnFocusEvent(t)})),t.editing.view.document.on("blur",(function(t){i.handleOnBlurEvent(t)}));for(var o=i.render.querySelectorAll(".ck-dropdown__panel"),s=0;s<o.length;s++)o[s].style.maxHeight="22em",o[s].style.overflowY="auto";if(i.options.maxCharCount>0){var a=WebSquare.language.getMessage("Editor_currentChar")||"Characters";i.dom.charCount=document.getElementById(i.id+"_charcount");var l=t.plugins.get("WordCount"),d=i.options.maxCharCount;i.dom.charCount.textContent=a+": 0/"+d,l.on("update",(function(t,e){i.dom.charCount.textContent=a+": "+e.characters+"/"+d,e.characters>d?i.addClass(i.dom.charCount,"w2editor_charcount_limitReached"):i.removeClass(i.dom.charCount,"w2editor_charcount_limitReached")})),t.model.document.on("change:data",(function(){l.characters>d&&r.Z.requestAnimationFrame((function(){i._undo||t.execute("undo")}))})),t.editing.view.document.on("blur",(function(){var t=l.characters;i.dom.charCount.textContent=a+": "+t+"/"+d,t>d?i.addClass(i.dom.charCount,"w2editor_charcount_limitReached"):i.removeClass(i.dom.charCount,"w2editor_charcount_limitReached")})),t.editing.view.document.on("clipboardInput",(function(t,e){r.Z.requestAnimationFrame((function(){i._updateCharCount()}))}))}i.handleOnLoadEvent()})).catch((function(t){console.error(t)}))}else{var a,l=this._getResourcePath(),d="skins/",c=!1;"4.17.1"==this.options.version||"4.19.1"==this.options.version||"4.22.1"==this.options.version?a="moono-lisa":"4.5.11"===this.options.version||"4.11.3"===this.options.version||"4.14.0"==this.options.version?a="moono":"4.5.1"===this.options.version?a="office2013":"4.3"===this.options.version?a="office2003":(d="",a="office2003",c=!0);var h,p,u,g,f,m=a+","+CKEDITOR.basePath+l+d+a+"/",y=CKEDITOR.basePath+"contents.css"+WebSquare.BootLoader.getEngineCachePostfix("");-1==CKEDITOR.basePath.indexOf(l)?(CKEDITOR.config.skin=m,CKEDITOR.basePath=CKEDITOR.basePath+l,CKEDITOR.config.contentsCss=y):!0===c&&(CKEDITOR.config.skin="office2003,"+CKEDITOR.basePath+"/office2003/",CKEDITOR.config.contentsCss=y),this.filebrowserUploadBaseUrl=this.options.imageUploadURL+"?callbackFunction="+this.id+".callback&version=4&subDir="+this.options.subDir,"4.5.11"==this.options.version?(p=69,u=102,g=72):(p=55,u=111,g=83),h="simple"==this.options.menubar?parseInt(this.render.style.height)-p+"px":parseInt(this.render.offsetWidth)<1395?parseInt(this.render.style.height)-u+"px":parseInt(this.render.style.height)-g+"px",
this.options.useLocale&&this.options.placeholderLocaleRef&&(f=this.getLocaleValue(this.options.placeholderLocaleRef));e=f||this.options.placeholder;var b={customConfig:"config_3.js",resize_enabled:this.options.resizable,width:"100%",height:h,toolbarCanCollapse:!1,toolbar:this.options.menubar,language:this.options.language,editorplaceholder:e,filebrowserUploadUrl:this.filebrowserUploadBaseUrl},C=this.uuid;"4.5.11"!=this.options.version&&"4.11.3"!==this.options.version&&"4.14.0"!==this.options.version&&"4.17.1"!=this.options.version&&"4.19.1"!=this.options.version&&"4.22.1"!=this.options.version||this.options.maxCharCount>0&&(b.extraPlugins="wordcount",b.wordcount={showParagraphs:!1,showWordCount:!1,showCharCount:!0,countSpacesAsChars:!0,countByTesAsChars:!0,maxWordCount:-1,maxCharCount:this.options.maxCharCount,charCountGreaterThanMaxLengthEvent:function(t,e){}}),r.Z.getBoolean(this.options.useCKFinder)&&(b.filebrowserBrowseUrl=o.q._resourceURI+"externalJS/ckfinder/ckfinder.html",b.filebrowserImageBrowseUrl=o.q._resourceURI+"externalJS/ckfinder/ckfinder.html?type=Images",b.filebrowserFlashBrowseUrl=o.q._resourceURI+"externalJS/ckfinder/ckfinder.html?type=Flash",b.filebrowserUploadUrl=o.q._resourceURI+"ckfinder/core/connector/java/connector.ckfinder?command=QuickUpload&type=Files",b.filebrowserImageUploadUrl=o.q._resourceURI+"ckfinder/core/connector/java/connector.ckfinder?command=QuickUpload&type=Images",b.filebrowserFlashUploadUrl=o.q._resourceURI+"ckfinder/core/connector/java/connector.ckfinder?command=QuickUpload&type=Flash",b.image_previewText="&nbsp;"),b.id=this.id+"_";var v=CKEDITOR.replace(this.id+"_",b);r.Z.getBoolean(this.options.useCKFinder)&&CKFinder.setupCKEditor(v,"/externalJS/ckfinder/"),CKEDITOR.instances[this.id+"_"].setData(" "),CKEDITOR.instances[this.id+"_"].on("instanceReady",(function(t){var e=WebSquare.idCache[C];if(e.handleOnLoadEvent(),"source"!==this.config.startupMode){var i=e.render.getElementsByTagName("iframe")[0].contentDocument;e.event.addListener(i,"onclick",e.event.bindAsEventListener(e,e.handleOtherClick))}})),CKEDITOR.instances[this.id+"_"].on("focus",(function(t){WebSquare.idCache[C].handleOnFocusEvent(t)})),CKEDITOR.instances[this.id+"_"].on("blur",(function(t){WebSquare.idCache[C].handleOnBlurEvent(t)})),CKEDITOR.instances[this.id+"_"].on("contentPreview",(function(t){if(t.data&&t.data.dataValue){var e=t.data.dataValue.indexOf("<body"),i=t.data.dataValue.substring(0,e),o=t.data.dataValue.substring(e);o=(o=(o=o.wq_replaceAll("<script","&lt;script")).wq_replaceAll("alert","")).wq_replaceAll("eval",""),t.data.dataValue=i+o}}))}}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype._updateCharCount=function(t){try{this._undo=!1;var e=window.CKEDITOR[this.id+"_"],i=e.plugins.get("WordCount").characters,o=this.options.maxCharCount,n=WebSquare.language.getMessage("Editor_currentChar")||"Characters";this.dom.charCount.textContent=n+": "+i+"/"+o,i>o&&(this._showWarning(WebSquare.language.getMessage("Editor_maxChar_warning",this.options.maxCharCount)),t?e.setData(this.orgHTML):(e.execute("undo"),this._undo=!0))}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype._showWarning=function(t){try{if(document.getElementById("w2editor_notifications_area_"+this.id))return;var e=window.CKEDITOR[this.id+"_"].ui.view.element.querySelector(".ck-content").getBoundingClientRect(),i=e.width,o=1*i/2,n=document.createElement("div");n.id="w2editor_notifications_area_"+this.id,n.className="w2editor_notifications_area",n.style.top=e.top+window.scrollY+"px",n.style.left=e.left+window.scrollX+(i-o)/2+"px",n.style.width=o+"px";var a=document.createElement("div");a.className="w2editor_notification w2fadeIn";var r=document.createElement("p");r.className="w2editor_notification_message",r.textContent=t,a.appendChild(r),n.appendChild(a),document.body.appendChild(n);var l=this;setTimeout((function(){l.removeClass(a,"w2fadeIn"),l.addClass(a,"w2fadeOut"),setTimeout((function(){document.body.removeChild(n)}),700)}),2e3)
}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.finalize=function(){try{d.q.prototype.finalize.call(this),CKEDITOR.instances[this.id+"_"]&&CKEDITOR.instances[this.id+"_"].destroy(!0)}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.setText=function(t){try{if("5"==this._majorVersion){var e=this.uuid;if(!this.loaded)return void(this.startText=t);this.orgHTML=this.getHTML();var i=window.CKEDITOR[this.id+"_"];if(i.setData(WebSquare.xml.encode1(t)),this.options.maxCharCount>0){var o=this;r.Z.requestAnimationFrame((function(){o._updateCharCount(!0)}))}var n=WebSquare.idCache[e];i.getData()!==n.orgHTML&&a.f.fireEvent(n,"onchange")}else{if(CKEDITOR.version.charAt(0)<"4"){var l=this.getReadOnly(),d=this.getDisabled();(l||d)&&(this.setDisabled(!1),this.options.disabled=d)}e=this.uuid;if(!this.loaded)return void(this.startText=t);this.orgHTML=this.getHTML(),CKEDITOR.instances[this.id+"_"].setData("",(function(){this.insertText(t);var i=WebSquare.idCache[e];i.applyReadOnlyDisabled(),this.getData()!=i.orgHTML&&a.f.fireEvent(i,"onchange")}))}}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.getText=function(){try{return"5"==this._majorVersion?window.CKEDITOR[this.id+"_"].getData().replace(/<[^>]+>/g,"").replace(/&nbsp;/gi," ").replace(/&amp;/gi,"&").replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&quot;/gi,'"').replace(/&apos;/gi,"'"):CKEDITOR.instances[this.id+"_"].document.getBody().getText()}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.getInnerText=function(){try{return"5"==this._majorVersion?window.CKEDITOR[this.id+"_"].editing.view.domRoots.get("main").innerText:CKEDITOR.instances[this.id+"_"].document.getBody().$.innerText}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.setHTML=function(t){try{var e=this.uuid;if("5"==this._majorVersion){var i=window.CKEDITOR[this.id+"_"];if(!this.loaded)return void(this.startHtml=t);if(this.orgHTML=this.getHTML(),i.setData(t),this.options.maxCharCount>0){var o=this;r.Z.requestAnimationFrame((function(){o._updateCharCount(!0)}))}i.getData()!==this.orgHTML&&a.f.fireEvent(this,"onchange")}else{if(CKEDITOR.version.charAt(0)<"4"){var n=this.getReadOnly(),l=this.getDisabled();(n||l)&&(this.setDisabled(!1),this.options.disabled=l)}var d=CKEDITOR.instances[this.id+"_"];if(CKEDITOR.version.charAt(0)<"4"){if(!this.loaded)return void(this.startHtml=t);this.orgHTML=this.getHTML(),d.setData(t,(function(){var t=WebSquare.idCache[e];t.applyReadOnlyDisabled(),this.getData()!=t.orgHTML&&a.f.fireEvent(t,"onchange"),t.resetDirty()}))}else{if(!this.loaded)return void(this.startHtml=t);if(this.orgHTML=this.getHTML(),!this.orgHTML&&!t)return;!this.orgHTML&&t&&this.options.placeholder&&this._changePlaceholder(""),d.editable().setData(t,!0),this.getHTML()||this._changePlaceholder(this.options.placeholder),this.getHTML()!=this.orgHTML&&a.f.fireEvent(this,"onchange"),this.resetDirty()}}}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.getHTML=function(){try{if("5"==this._majorVersion){var t=window.CKEDITOR[this.id+"_"].getData(),e=n.I.getConfiguration("/WebSquare/editor/tagHandler/@value")||"";return"function"==typeof(i=r.Z.getGlobalFunction(e,this.scope_id))&&(t=i.call(this,t)),t}var i;t=CKEDITOR.instances[this.id+"_"].getData(),e=n.I.getConfiguration("/WebSquare/editor/tagHandler/@value")||"";return"function"==typeof(i=r.Z.getGlobalFunction(e,this.scope_id))&&(t=i.call(this,t)),t}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.focus=function(){try{return"5"==this._majorVersion?window.CKEDITOR[this.id+"_"].focus():CKEDITOR.instances[this.id+"_"].focus()}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.callback=function(t){try{if("5"==this._majorVersion)return;var e,i,o,n,a=WebSquare.xml.parse(t);if(e=WebSquare.xml.getValue(a,"ret/key"),e=WebSquare.xml.decode(e),i=WebSquare.xml.getValue(a,"ret/storedFileList"),o=WebSquare.xml.getValue(a,"ret/funcNum"),n=WebSquare.xml.getValue(a,"ret/deniedCodeList"),
i&&i.length>0)1==this.options.absolutePath?(e=e.wq_replaceAll("/","\\"),CKEDITOR.tools.callFunction(o,e+"\\"+i)):this.options.imageLoadURL.indexOf("?")>-1?CKEDITOR.tools.callFunction(o,this.options.imageLoadURL+"&subDir="+this.options.subDir+"&fileName="+escape(encodeURIComponent(i))):CKEDITOR.tools.callFunction(o,this.options.imageLoadURL+"?subDir="+this.options.subDir+"&fileName="+escape(encodeURIComponent(i)));else{var r="";r="101"==n?"Invalid file extension.":"102"==n?"File Size has been exceed.":"Unknown server error.",CKEDITOR.tools.callFunction(o,"",r)}}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.setDisabled=function(t){try{if("5"==this._majorVersion){if(t=r.Z.getBoolean(t),this.options.disabled=t,!this.render.querySelector(".ck.ck-editor"))return;var e=document.getElementById(this.id+"_disabled_div");if(0==t&&e)e.style.visibility="hidden",e.style.display="none",e.hidden=!0;else if(1!=t||e){if(1==t&&e){i=null;i=1==this.options.transParentDisabled?"background-color: black; position: absolute; left:0px; top:0px; height: 100%; width: 100%; filter : alpha(opacity=0); opacity : 0.0;":r.Z.isSpartan()?"background-color: black; position: absolute; left:0px; top:0px; height: 100%; width: 100%; filter : alpha(opacity=30); opacity : 0.3; border:1px solid black;":"background-color: black; position: absolute; left:0px; top:0px; height: 100%; width: 100%; filter : alpha(opacity=30); opacity : 0.3;",e.style.cssText=i}}else{(l=document.createElement("div")).setAttribute("id",this.id+"_disabled_div");var i=null;i=1==this.options.transParentDisabled?"background-color: black; position: absolute; left:0px; top:0px; height: 100%; width: 100%; filter : alpha(opacity=0); opacity : 0.0;":r.Z.isSpartan()?"background-color: black; position: absolute; left:0px; top:0px; height: 100%; width: 100%; filter : alpha(opacity=30); opacity : 0.3; border:1px solid black;":"background-color: black; position: absolute; left:0px; top:0px; height: 100%; width: 100%; filter : alpha(opacity=30); opacity : 0.3;",l.style.cssText=i,this.render.appendChild(l)}return t}t=r.Z.getBoolean(t),this.options.disabled=t;var o=null,n=null;if(CKEDITOR.version.charAt(0)<"4"){e=document.getElementById(this.id+"_disabled_div");o=document.getElementById("cke_top_"+this.id+"_"),n=document.getElementById("cke_contents_"+this.id+"_")}else{e=document.getElementById(this.id+"_disabled_div");o=document.getElementById(CKEDITOR.instances[this.id+"_"].id+"_top"),n=document.getElementById(CKEDITOR.instances[this.id+"_"].id+"_contents")}if(!o&&!n)return;var a=n.getElementsByTagName("iframe")[0].contentWindow;if(0==t&&e)e.style.visibility="hidden",e.style.display="none",e.hidden=!0,a&&!this.getReadOnly()&&(a.document.documentElement.contentEditable=!0,a.document.body.contentEditable=!0);else if(1!=t||e)1==t&&e&&(a.document.documentElement.contentEditable=!0,a.document.body.contentEditable=!0,e.hidden=!1,e.style.visibility="visible",e.style.display="block");else{var l;(l=document.createElement("div")).setAttribute("id",this.id+"_disabled_div");var d;if(CKEDITOR.version.charAt(0)<"4")var c=document.getElementById("cke_top_"+this.id+"_").offsetHeight,h=document.getElementById("cke_contents_"+this.id+"_").offsetHeight,p=document.getElementById("cke_bottom_"+this.id+"_").offsetHeight;else c=document.getElementById(CKEDITOR.instances[this.id+"_"].id+"_top").offsetHeight,h=document.getElementById(CKEDITOR.instances[this.id+"_"].id+"_contents").offsetHeight,p=document.getElementById(CKEDITOR.instances[this.id+"_"].id+"_bottom").offsetHeight;d=c+h+p;i=null
;i=1==this.options.transParentDisabled?"background-color: black; position: absolute; left:0px; top:0px; height:"+d+"px; width: 100%; filter : alpha(opacity=0); opacity : 0.0;":r.Z.isSpartan()?"background-color: black; position: absolute; left:0px; top:0px; height:"+d+"px; width: 100%; filter : alpha(opacity=30); opacity : 0.3; border:1px solid black;":"background-color: black; position: absolute; left:0px; top:0px; height:"+d+"px; width: 100%; filter : alpha(opacity=30); opacity : 0.3;",l.style.cssText=i,this.render.appendChild(l),a.document.documentElement.contentEditable=!1,a.document.body.contentEditable=!1}return t}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.setReadOnly=function(t){try{return"5"==this._majorVersion?(t=r.Z.getBoolean(t),this.options.readOnly=t,t?window.CKEDITOR[this.id+"_"].enableReadOnlyMode("EditorLock"):window.CKEDITOR[this.id+"_"].disableReadOnlyMode("EditorLock"),t):(t=r.Z.getBoolean(t),this.options.readOnly=t,"4.5.11"==this.options.version||"4.11.3"===this.options.version||"4.14.0"===this.options.version||"4.17.1"==this.options.version||"4.19.1"==this.options.version||"4.22.1"==this.options.version?CKEDITOR.instances[this.id+"_"].editable()&&CKEDITOR.instances[this.id+"_"].setReadOnly(t):CKEDITOR.instances[this.id+"_"].setReadOnly(t),t)}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.setDomain=function(t){try{if("5"==this._majorVersion)return;if(t||(t=WebSquare.domain),t&&t.wq_trim().length>0){var e=this.filebrowserUploadBaseUrl;e.indexOf("?")>-1?e+="&":e+="?",e+="domain="+WebSquare.text.URLEncoder(t),CKEDITOR.instances[this.id+"_"].config.filebrowserUploadUrl=e}else CKEDITOR.instances[this.id+"_"].config.filebrowserUploadUrl=this.filebrowserUploadBaseUrl}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.getDomain=function(){try{return"5"==this._majorVersion?window.CKEDITOR[this.id+"_"].config._config.simpleUpload.uploadUrl:CKEDITOR.instances[this.id+"_"].config.filebrowserUploadUrl}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.getImageLoadURL=function(){try{return this.options.imageLoadURL}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.setImageLoadURL=function(t){try{if(!t)return;this.options.imageLoadURL=n.I.getServletURL(this,this.options.msaName,this._defaultImageLoadURL,t)}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.handleOnLoadEvent=function(){try{if("5"==this._majorVersion){var t=this.render.clientWidth||this.render.style.width||WebSquare.style.getComputedStyle(this.render,"width"),e=this.render.clientHeight||this.render.style.height||WebSquare.style.getComputedStyle(this.render,"height"),i=window.CKEDITOR[this.id+"_"],o=this.render.querySelector(".ck-toolbar").offsetHeight,r=this.options.maxCharCount>0?this.render.querySelector(".w2editor_bottom").offsetHeight:0;i.editing.view.change((function(t){t.setStyle("height",e-o-r+"px",i.editing.view.document.getRoot()),t.setStyle("box-sizing","border-box",i.editing.view.document.getRoot())}));var l=this,d=this.render.querySelector(".ck-source-editing-button");if(d&&d.addEventListener("click",(function(){if(d.classList.contains("ck-on")){var t=l.render.querySelector(".ck-source-editing-area"),i=l.render.querySelector(".ck-source-editing-area textarea");t&&i&&(t.style.height=e-o-r+"px",i.style.height=e-o-r+"px",i.style.overflow="auto")}})),n.I.browserCheck.ipad){var c=i.ui.view.editable.element,h=c.getAttribute("style");c.setAttribute("style",h+"overflow-y: auto;-webkit-overflow-scrolling: touch")}this.applyReadOnlyDisabled(),this.loaded=!0,""!=this.startText&&this.setText(this.startText),""!=this.startHtml&&this.setHTML(this.startHtml),a.f.fireEvent(this,"onload")}else{t=this.render.clientWidth||this.render.style.width||WebSquare.style.getComputedStyle(this.render,"width"),e=this.render.clientHeight||this.render.style.height||WebSquare.style.getComputedStyle(this.render,"height");if(this.options.editorWidth&&(t=this.options.editorWidth),this.options.editorHeight&&(e=this.options.editorHeight),
CKEDITOR.instances[this.id+"_"].document&&CKEDITOR.instances[this.id+"_"].document.getWindow().$&&CKEDITOR.instances[this.id+"_"].resize(t,e),n.I.browserCheck.ipad){var p=document.getElementById(CKEDITOR.instances[this.id+"_"].id+"_contents");h=p.getAttribute("style");p.setAttribute("style",h+"overflow-y: auto;-webkit-overflow-scrolling: touch")}this.applyReadOnlyDisabled(),this.loaded=!0,""!=this.startText&&this.setText(this.startText),""!=this.startHtml&&this.setHTML(this.startHtml),a.f.fireEvent(this,"onload")}}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.handleOnFocusEvent=function(t){},c.prototype.handleOnBlurEvent=function(t){try{var e=this.getHTML();this.orgHTML!=e&&(a.f.fireEvent(this,"onchange"),this.orgHTML=e)}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.applyReadOnlyDisabled=function(){try{this.getDisabled()?this.setDisabled(!0):this.getReadOnly()&&this.setReadOnly(!0)}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.resize=function(t,e){try{if("5"==this._majorVersion)if(this.options.resizable){this.render.style.width=t+"px",this.render.style.height=e+"px";var i=window.CKEDITOR[this.id+"_"],o=this.render.querySelector(".ck-toolbar").offsetHeight,n=this.options.maxCharCount>0?this.render.querySelector(".w2editor_bottom").offsetHeight:0;i.editing.view.change((function(t){t.setStyle("height",e-o-n+"px",i.editing.view.document.getRoot()),t.setStyle("box-sizing","border-box",i.editing.view.document.getRoot())}));var a=this,r=this.render.querySelector(".ck-source-editing-button");r&&r.addEventListener("click",(function(){if(r.classList.contains("ck-on")){var t=a.render.querySelector(".ck-source-editing-area"),i=a.render.querySelector(".ck-source-editing-area textarea");t&&i&&(t.style.height=e-o-n+"px",i.style.height=e-o-n+"px",i.style.overflow="auto")}})),this.options.disabled&&this.setDisabled(!0)}else l.v.printLog("Set configuration resize true");else this.options.resizable?CKEDITOR.instances[this.id+"_"].resize(t,e,!0):l.v.printLog("Set configuration resize true")}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.handleOtherClick=function(t){try{WebSquare.getBody().getLayerListener().hideAll()}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.resetDirty=function(t){try{if("5"==this._majorVersion)return;CKEDITOR.instances[this.id+"_"].resetDirty()}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.setPlaceholder=function(t){try{if("5"==this._majorVersion)window.CKEDITOR[this.id+"_"].editing.view.document.getRoot("main").placeholder=t,this.options.placeholder=t;else"4.17.1"==this.options.version||"4.19.1"==this.options.version||"4.22.1"==this.options.version?(this._changePlaceholder(t),this.options.placeholder=t):l.v.printLog("setPlaceholder is only supported in version 4.17.1 or higher.["+this.id+"]")}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype._changePlaceholder=function(t){try{var e=t;if("4.17.1"==this.options.version||"4.19.1"==this.options.version||"4.22.1"==this.options.version){var i=CKEDITOR.instances[this.id+"_"].document.getBody();if(i){var o=this.getText();""!=o&&"\n"!=o||!i||i.setAttribute("data-cke-editorplaceholder",e),CKEDITOR.instances[this.id+"_"].config.editorplaceholder=e}}}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype.checkDirty=function(t){try{return"5"==this._majorVersion?void 0:CKEDITOR.instances[this.id+"_"].checkDirty()}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype._getResourcePath=function(t){try{return!0==={"5.41.1":!0,"4.22.1":!0,"4.19.1":!0,"4.17.1":!0,"4.14.0":!0,"4.11.3":!0,"4.5.11":!0,"4.5.1":!0,4.3:!0}[this.options.version]?"externalJS/editor"+this.options.version+"/":"externalJS/editor/"}catch(t){s.Y.printStackTrace(t,null,this)}},c.prototype._getMajorVersion=function(t){try{var e="";return"5"==t.charAt(0)?e="5":"4"==t.charAt(0)&&(e="4"),e}catch(t){s.Y.printStackTrace(t,null,this)}}}}]);