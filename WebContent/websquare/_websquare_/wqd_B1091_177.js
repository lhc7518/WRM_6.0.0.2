"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[177],{1177:(e,t,a)=>{a.r(t),a.d(t,{iframe:()=>m});var o=a(1570),i=a(8548),n=a(866),r=a(2847),s=a(6323),c=a(4171),l=a(3885),m=function(e,t,a){l.q.call(this,e,t,a)};o.q.extend(m.prototype,l.q.prototype),m.prototype.defaultOptions={pluginType:"uiplugin.iframe",pluginName:"iframe",userEvents:["oniframeload","oniframeunload"],src:"",scrolling:"",title:"",name:"",allowTransparency:"",spa:!1,spaParam:"wq_spaParam",relativePath:!1,spaReplaceHistory:!1,msaName:"",blankSrcSkip:!1,useSandbox:!1,sandbox:""},m.prototype.initialize=function(e){try{"true"==i.I.getConfiguration("/WebSquare/spa/@value")&&(this.options.spa=!0),"true"==i.I.getConfiguration("/WebSquare/iframe/relativePath/@value")&&(this.options.relativePath=!0),this.options.dataObject&&this.setDataObject(this.options.dataObject),this._invalidURLRegEx=/<\/?\s*[a-zA-Z\s="/.':;#-\/\?]+>/g,this._invalidURLRegEx2=/%3C\/?\s*[a-zA-Z\s="/.':;#-\/\?]+%3E/g}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype.toHTML=function(){try{var e="."+WebSquare.w2xExtension,t=this.options.src,a="iframe";if(""!=t){var o,r=t.slice(0),c=-1;(o=t.indexOf("?"))>-1?r=r.substring(0,o):(c=t.indexOf("#"))>-1&&(r=r.substring(0,c)),r.indexOf("&")>-1&&(r=r.substring(0,r.indexOf("&")));var l="w2xPath";if(s.Z.getEncodeParameterOption("pathName")?l=s.Z.getEncodeParameterOption("pathName"):s.Z.isEncodeParameter()&&(l=s.Z.encodeParameter("w2xPath")),".xml"===r.substring(r.lastIndexOf(".")))if(this.options.spa){var m="?"+this.options.spaParam+"="+(this.uuid||this.id),u=this.getURL(t),g=location.toString();(x=g.indexOf("?"))<0&&(x=g.indexOf("#")),x<0&&(x=g.length);var d=g.substring(0,x);if(s.Z.getEncodeParameterOption("onlyParam")){for(var h=u.split(/[\&\?]/),f=0;f<h.length;f++)(P=h[f].indexOf("="))>=0&&(h[f]=s.Z.encodeParameter(h[f].substring(0,P))+h[f].substring(P));u=h.join("&")}if(d.indexOf(e)>=0){var p=u.substring(0,u.lastIndexOf(".xml"))+e;if(s.Z.getBoolean(i.I.getConfiguration("/WebSquare/stylesheet/@relativePath")))t=p;else{var b="?w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config();s.Z.isEncodeParameter()&&(b=s.Z.getEncodeParameterOption("onlyParam")?s.Z.encodeParameter("?w2xHome=")+WebSquare.w2xHome+s.Z.encodeParameter("&w2xDocumentRoot=")+WebSquare.w2xDocumentRoot+this._getW2Config():s.Z.encodeParameter(b)),t=p+b}}else if(WebSquare.isHoneyComb){window.frameElement?window.sessionStorage[window.frameElement.id]=u:window.sessionStorage.w2xpath=u;var w=d.indexOf("?");w>=0&&(d=d.substring(0,w)),t=d+m}else if(s.Z.getBoolean(i.I.getConfiguration("/WebSquare/stylesheet/@relativePath")))t=s.Z.isEncodeParameter()?s.Z.getEncodeParameterOption("onlyParam")?d+m+"#"+l+"="+u:d+m+"#"+l+"="+s.Z.encodeParameter(u):d+m+"#"+l+"="+u;else{b="&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config();t=s.Z.isEncodeParameter()?s.Z.getEncodeParameterOption("onlyParam")?d+m+"#"+l+"="+u+(b=s.Z.encodeParameter("?w2xHome=")+WebSquare.w2xHome+s.Z.encodeParameter("&w2xDocumentRoot=")+WebSquare.w2xDocumentRoot+this._getW2Config()):d+m+"#"+l+"="+s.Z.encodeParameter(u+b):d+m+"#"+l+"="+u+b}}else{var x;t=this.getURL(t),(x=location.toString().indexOf("?"))<0&&(x=location.toString().indexOf("#"));var S=location.toString().substring(0,x);if(x<0&&(S=location.toString()),t=t.replace("?","&"),s.Z.getEncodeParameterOption("onlyParam")){var P;for(h=t.split(/[\&\?]/),f=0;f<h.length;f++)(P=h[f].indexOf("="))>=0&&(h[f]=s.Z.encodeParameter(h[f].substring(0,P))+h[f].substring(P));t=h.join("&")}if(S.indexOf(e)>=0){p=t.substring(0,t.lastIndexOf(".xml"))+e;if(s.Z.getBoolean(i.I.getConfiguration("/WebSquare/stylesheet/@relativePath")))t=p;else{b="?w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config()
;s.Z.isEncodeParameter()&&(b=s.Z.getEncodeParameterOption("onlyParam")?s.Z.encodeParameter("?w2xHome=")+WebSquare.w2xHome+s.Z.encodeParameter("&w2xDocumentRoot=")+WebSquare.w2xDocumentRoot+this._getW2Config():s.Z.encodeParameter(b)),t=p+b}}else WebSquare.isHoneyComb?(window.frameElement?window.sessionStorage[window.frameElement.id]=t:window.sessionStorage.w2xpath=t,t=S):t=s.Z.getBoolean(i.I.getConfiguration("/WebSquare/stylesheet/@relativePath"))?s.Z.isEncodeParameter()?s.Z.getEncodeParameterOption("onlyParam")?S+"?"+l+"="+t+this._getW2Config():S+"?"+l+"="+s.Z.encodeParameter(t)+this._getW2Config():S+"?"+l+"="+t+this._getW2Config():s.Z.isEncodeParameter()?s.Z.getEncodeParameterOption("onlyParam")?S+"?"+l+"="+t+s.Z.encodeParameter("&w2xHome=")+WebSquare.w2xHome+s.Z.encodeParameter("&w2xDocumentRoot=")+WebSquare.w2xDocumentRoot+this._getW2Config():S+"?"+l+"="+s.Z.encodeParameter(t+"&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config()):S+"?"+l+"="+t+"&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config()}else this.options.relativePath&&(t=this.getURL(t));t="src='"+t+"'"}else""==(t=WebSquare.net.getSSLBlankPage())&&(t="src='about:blank'"),this.options.blankSrcSkip&&(a="div");var W=""==this.options.allowTransparency?"":"allowTransparency='"+this.options.allowTransparency+"'",y=""==this.options.name?"":"name='"+this.options.name+"'",Z=""==this.options.scrolling?"":"scrolling='"+this.options.scrolling+"'",O=""==this.options.style?"":"style='"+this.options.style+"'",q=""==this.options.title?"":"title='"+this.options.title+"'",v=""==this.options.className?"'":" "+this.options.className+"'",R=this.options.useSandbox?this.options.sandbox?"sandbox='"+this.options.sandbox+"'":"sandbox":"",E="";return"html5"!=WebSquare.docType&&(E=" frameborder='0'"),"<"+a+" id='"+this.id+"' "+t+" "+O+" class='w2iframe"+v+E+" "+q+" "+W+" "+y+" "+Z+" "+R+"></"+a+">"}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype.setAction=function(){},m.prototype.finalize=function(){try{this.fireIframeunload(),this.activeStatus="finalize"}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype.setSrc=function(e,t){try{"object"==typeof t&&null!=t&&"object"==typeof t.dataObject&&(this._removeDataObject(),this.setDataObject(t.dataObject));var a,o,r,l="."+WebSquare.w2xExtension,m=!1,u=s.Z.getBoolean(t),g=e.slice(0),d=-1;(a=e.indexOf("?"))>-1?g=g.substring(0,a):(d=e.indexOf("#"))>-1&&(g=g.substring(0,d)),(o=g.indexOf("&"))>-1&&(g=g.substring(0,o));var h=this.options.blankSrcSkip&&this.render&&"DIV"===this.render.tagName.toUpperCase();if(".xml"===g.substring(g.lastIndexOf(".")))t="1",m=this.options.spa;else if(!0!==h){r=this.getWindow();var f=this.getSrc();try{null!=r&&null!=r.WebSquare&&(f=r.location.toString());var p=f.indexOf("#"),b=e.indexOf("#");p<0&&(p=f.length),b<0&&(b=e.length),m=f.substring(0,p)==e.substring(0,b)}catch(e){c.v.printLog("warning : cross-origin frame["+this.id+"]")}}var w="w2xPath";s.Z.getEncodeParameterOption("pathName")?w=s.Z.getEncodeParameterOption("pathName"):s.Z.isEncodeParameter()&&(w=s.Z.encodeParameter("w2xPath"));try{if(!m&&!0!==h)"true"!=i.I.getConfiguration("/WebSquare/clearMemory/@value")&&this.getWindow().WebSquare&&"function"==typeof this.getWindow().WebSquare.clearMemory&&this.getWindow().WebSquare.clearMemory()}catch(e){c.v.printLog("warning : clearMemory["+this.id+"]")}"about:blank"==e||m||!0===h||("https:"==location.protocol?this.render.setAttribute("src",WebSquare.net.getSSLBlankPage(!0)):this.render.setAttribute("src",this._checkValidURL("about:blank")));g=e;e.indexOf("?")>-1&&(g=g.substring(0,g.indexOf("?")));var x="";if(null!=e){if(x=location.toString(),!0!==h){r=this.getWindow();try{null!=r&&null!=r.WebSquare&&(x=r.location.toString(),r.WebSquare.pageXMLString=null)}catch(e){c.v.printLog("warning : cross-origin frame["+this.id+"]")}}if("1"===t&&m){var S=this.getURL(e);(E=x.indexOf("#"))<0&&(E=x.length);var P=x.substring(0,E),W="",y=""
;if(this.options.spaParam){y="?"+this.options.spaParam+"="+(this.uuid||this.id);var Z=new RegExp("\\?"+this.options.spaParam+"=wq_uuid_[0-9]+","g");P=P.replace(Z,"")}if(s.Z.getEncodeParameterOption("onlyParam")){for(var O=S.split(/[\&\?]/),q=0;q<O.length;q++)(C=O[q].indexOf("="))>=0&&(O[q]=s.Z.encodeParameter(O[q].substring(0,C))+O[q].substring(C));S=O.join("&")}if(y&&P.indexOf(l)>=0){var v=S.substring(0,S.lastIndexOf(".xml"))+l;if(s.Z.getBoolean(i.I.getConfiguration("/WebSquare/stylesheet/@relativePath")))e=v;else{W="?w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config();s.Z.isEncodeParameter()&&(W=s.Z.getEncodeParameterOption("onlyParam")?s.Z.encodeParameter("?w2xHome=")+WebSquare.w2xHome+s.Z.encodeParameter("&w2xDocumentRoot=")+WebSquare.w2xDocumentRoot+this._getW2Config():s.Z.encodeParameter(W)),e=v+W}}else if(WebSquare.isHoneyComb){window.frameElement?window.sessionStorage[window.frameElement.id]=S:window.sessionStorage.w2xpath=S;var R=P.indexOf("?");R>=0&&(P=P.substring(0,R)),e=P+y}else s.Z.getBoolean(i.I.getConfiguration("/WebSquare/stylesheet/@relativePath"))?e=s.Z.isEncodeParameter()?s.Z.getEncodeParameterOption("onlyParam")?P+y+"#"+w+"="+S:P+y+"#"+w+"="+s.Z.encodeParameter(S):P+y+"#"+w+"="+S:(W="&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config(),e=s.Z.isEncodeParameter()?s.Z.getEncodeParameterOption("onlyParam")?P+y+"#"+w+"="+S+(W=s.Z.encodeParameter("&w2xHome=")+WebSquare.w2xHome+s.Z.encodeParameter("&w2xDocumentRoot=")+WebSquare.w2xDocumentRoot+this._getW2Config()):P+y+"#"+w+"="+s.Z.encodeParameter(S+W):P+y+"#"+w+"="+S+W);if((e==x+W||e==x)&&r&&r.WebSquare)r.util.reinitialize(u);else if(u&&r&&r.WebSquare)"onhashchange"in r.window?r.window.onhashchange=null:clearInterval(r.util._hashTestKey),r.core.finalize(),this._setSrc(e),r.location.reload();else{r&&r.WebSquare&&(r.WebSquare.w2xPath="");try{(r&&this.options.spaReplaceHistory||r&&"https:"==location.protocol&&WebSquare.net.isSSLBlankPage(r.location.toString()))&&r.location.replace(e)}catch(e){c.v.printLog("warning : cross-origin frame["+this.id+"]")}this._setSrc(e)}return}if("1"===t){var E;e=this.getURL(e),(E=x.indexOf("?"))<0&&(E=x.indexOf("#"))<0&&(E=x.length);var _=x.substring(0,E);if(e=e.replace("?","&"),s.Z.getEncodeParameterOption("onlyParam")){var C;for(O=e.split(/[\&\?]/),q=0;q<O.length;q++)(C=O[q].indexOf("="))>=0&&(O[q]=s.Z.encodeParameter(O[q].substring(0,C))+O[q].substring(C));e=O.join("&")}if(_.indexOf(l)>=0){v=e.substring(0,e.lastIndexOf(".xml"))+l;if(s.Z.getBoolean(i.I.getConfiguration("/WebSquare/stylesheet/@relativePath")))e=v;else{W="?w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config();s.Z.isEncodeParameter()&&(W=s.Z.getEncodeParameterOption("onlyParam")?s.Z.encodeParameter("&w2xHome=")+WebSquare.w2xHome+s.Z.encodeParameter("&w2xDocumentRoot=")+WebSquare.w2xDocumentRoot+this._getW2Config():s.Z.encodeParameter(W)),e=v+W}}else WebSquare.isHoneyComb?(window.frameElement?window.sessionStorage[window.frameElement.id]=e:window.sessionStorage.w2xpath=e,e=_):e=s.Z.getBoolean(i.I.getConfiguration("/WebSquare/stylesheet/@relativePath"))?s.Z.isEncodeParameter()?s.Z.getEncodeParameterOption("onlyParam")?_+"?"+w+"="+e:_+"?"+w+"="+s.Z.encodeParameter(e):_+"?"+w+"="+e:s.Z.isEncodeParameter()?s.Z.getEncodeParameterOption("onlyParam")?_+"?"+w+"="+e+s.Z.encodeParameter("&w2xHome=")+WebSquare.w2xHome+s.Z.encodeParameter("&w2xDocumentRoot=")+WebSquare.w2xDocumentRoot+this._getW2Config():_+"?"+w+"="+s.Z.encodeParameter(e+"&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config()):_+"?"+w+"="+e+"&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config();try{r&&"https:"==location.protocol&&WebSquare.net.isSSLBlankPage(r.location.toString())&&r.location.replace(e)}catch(e){c.v.printLog("warning : cross-origin frame["+this.id+"]")}return void this._setSrc(e)}try{
r&&"https:"==location.protocol&&WebSquare.net.isSSLBlankPage(r.location.toString())&&r.location.replace(e)}catch(e){c.v.printLog("warning : cross-origin frame["+this.id+"]")}this.options.relativePath&&""!=e&&(e=this.getURL(e)),this._setSrc(e),m&&e==x&&r&&r.WebSquare&&r.util.reinitialize(u)}}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype._setSrc=function(e){try{this.render.setAttribute("src",this._checkValidURL(e)),this.options.blankSrcSkip&&"DIV"===this.render.tagName.toUpperCase()&&(this.render.outerHTML=this.render.outerHTML.replace(/^<\s*div /i,"<iframe ").replace(/<\/\s*div>$/i,"</iframe>"),this.render=document.getElementById(this.id))}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype.getSrc=function(){try{var e;return this.render&&(e=this.render.getAttribute("src")),e}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype.getWindow=function(){try{return this.render.contentWindow}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype.setDisabled=function(){$l("setDisabled cannot be used in iframes.["+this.id+"]")},m.prototype.setReadOnly=function(){$l("setReadOnly cannot be used in iframes.["+this.id+"]")},m.prototype.fireIframeload=function(){r.f.fireEvent(this,"oniframeload",this.getSrc()),this._iframeLoaded=!0},m.prototype.fireIframeunload=function(){"finalize"!==this.activeStatus&&r.f.fireEvent(this,"oniframeunload",this.getSrc())},m.prototype._getW2Config=function(){try{var e="",t=-1;if(s.Z.isEncodeParameter()){if((t=location.toString().indexOf(s.Z.encodeParameter("w2Config")))>=0)(o=(a=location.toString().slice(t+9)).slice(0,a.indexOf(s.Z.encodeParameter("config.xml"))+10))&&(e=s.Z.encodeParameter("&w2Config=")+o);else if(s.Z.getBoolean(i.I.getConfiguration("/WebSquare/encodeParameter/@fallback"))){var a,o;if((t=location.toString().indexOf("w2Config"))>=0)(o=(a=location.toString().slice(t+9)).slice(0,a.indexOf("config.xml")+10))&&(e=s.Z.getEncodeParameterOption("onlyParam")?s.Z.encodeParameter("&w2Config=")+o:s.Z.encodeParameter("&w2Config="+o))}}else if((t=location.toString().indexOf("w2Config"))>=0)(o=(a=location.toString().slice(t+9)).slice(0,a.indexOf("config.xml")+10))&&(e="&w2Config="+o);return e}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype.setDataObject=function(e){try{if("string"==typeof e&&(e=JSON.parse(e)),null==e||"string"!=typeof e.name||0===e.name.length)return;var t=e.type||"string";t=t.toLowerCase();var a,o=e.data,i=e.name;switch(t){case"json":a=JSON.stringify(o);break;case"xml":a=WebSquare.xml.serialize(o);break;case"array":a=s.Z.parseArray(o);break;default:a=o}this._dataObject={type:t,name:i,data:a}}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype._getDataObject=function(e){try{var t;return this._dataObject&&"string"==typeof this._dataObject.name&&this._dataObject.name.length>0&&this._dataObject.data&&(t=null==e?this._dataObject:this._dataObject[e]),t}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype._removeDataObject=function(){try{this._dataObject&&(this._dataObject=null,delete this._dataObject)}catch(e){n.Y.printStackTrace(e,null,this)}},m.prototype._checkValidURL=function(e){try{return"string"!=typeof e?e:e.replace(this._invalidURLRegEx,"").replace(this._invalidURLRegEx2,"")}catch(e){return n.Y.printStackTrace(e,null,this),""}}}}]);